---
slug: lazy-load
title: LazyLoad
authors: [marvin-season]
tags: [javascript, lazy-load]
---
## 参考资料
https://developer.mozilla.org/en-US/docs/Web/Performance/Guides/Lazy_loading
## Intersection Observer API
import {VirtualPage} from  '@site/src/components/lazy-load';

<VirtualPage/>

### How
借助 IntersectionObserver API, 监听将要进入视口内的dom，当该 dom 出现在视口中时，加载更多！
### Pseudo
```tsx
const observer = new IntersectionObserver((entries, observer) => {
    if('discover'){
        // load more
    }
})

observer.observe('dom' as HTMLElement)
```

## Images and iframes
import {LazyImage} from  '@site/src/components/lazy-load';

<LazyImage/>

以图片为例，打开控制台，筛选网络中的图片，然后滚动上述视口，当图片靠近视口区域时，可以看到图片资源加载

`loading="lazy"`

```html
<img loading="lazy" src="image.jpg" alt="..." />
<iframe loading="lazy" src="video-player.html" title="..."></iframe>
```
