---
title: useSyncExternalStore
---
`useSyncExternalStore` æ˜¯ React 18 å¼•å…¥çš„ä¸€ä¸ª Hookï¼Œä¸“é—¨ç”¨äº**è®¢é˜…å¤–éƒ¨å¯å˜çŠ¶æ€ï¼ˆexternal storeï¼‰**ï¼Œå¹¶ç¡®ä¿ **ä¸€è‡´æ€§å’Œå¹¶å‘å®‰å…¨**ï¼Œç‰¹åˆ«é€‚ç”¨äºçŠ¶æ€åº“æˆ–å“åº”å¼æ¡†æ¶çš„æ¡¥æ¥ã€‚

---

## ğŸ§  ä¸ºä»€ä¹ˆéœ€è¦ useSyncExternalStoreï¼Ÿ

React çš„å¹¶å‘æ¸²æŸ“æ¨¡å¼ï¼ˆConcurrent Modeï¼‰å¯èƒ½å¯¼è‡´**ä¸ä¸€è‡´çš„è®¢é˜…è¡Œä¸º**ã€‚ä¼ ç»Ÿçš„ `useEffect + useState` å®¹æ˜“å‡ºç°æ•°æ®â€œæ’•è£‚â€ï¼ˆtearingï¼‰ç°è±¡ã€‚

`useSyncExternalStore` æä¾›äº†ä¸€ä¸ª**å®˜æ–¹æ¨èçš„è®¢é˜…å¤–éƒ¨çŠ¶æ€æ–¹æ¡ˆ**ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š

- ä¿è¯åœ¨æ¸²æŸ“æœŸé—´è·å–æœ€æ–°å¿«ç…§
- åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ä¸­ä¹Ÿèƒ½å®‰å…¨ä½¿ç”¨

---

## ğŸ”§ è¯­æ³•

```ts
const state = useSyncExternalStore(
  subscribe: (callback: () => void) => () => void,
  getSnapshot: () => any,
  getServerSnapshot?: () => any // å¯é€‰ï¼Œä»…ç”¨äº SSR
);
```
{/* truncate */}

import SyncExternalStore from  '@site/src/components/state-manager/SyncExternalStore';

<SyncExternalStore />